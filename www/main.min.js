!function(){"use strict";function o(o){o.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleLightContent()})}function i(o,i,r){o.html5Mode(!0),r.otherwise("/lists")}angular.module("fsr",["ionic","config","auth","lists","tips"]).run(["$ionicPlatform",o]).config(["$locationProvider","$stateProvider","$urlRouterProvider",i])}();
!function(){"use strict";function t(t,r,a){var e=t.hash().split("=")[1];a.saveToken(e),r.go("auth")}function r(r,a,e){r.interceptors.push("authInterceptor"),a.state("auth",{url:"/auth",templateUrl:"./fsr/auth/index.html",controller:"AuthController",controllerAs:"auth"}),e.when("/auth/callback/",["$location","$state","authFactory",t])}function a(t,r,a){t.$on("$stateChangeStart",function(t,e){return"auth"===e.name?!1:void(a.isLoggedIn()||(t.preventDefault(),r.go("auth")))})}angular.module("auth",["ui.router","angular-storage"]).config(["$httpProvider","$stateProvider","$urlRouterProvider",r]).run(["$rootScope","$state","authFactory",a])}();
!function(){"use-strict";function n(n,e){e.setBaseUrl(n.host),e.setResponseExtractor(function(n){return n.response})}angular.module("config",["restangular"]).config(["FS_CONFIG","RestangularProvider",n])}();
!function(){"use strict";function t(t,r){t.state("list",{url:"/lists",templateUrl:"./fsr/lists/index.html",controller:"ListController",controllerAs:"list"})}angular.module("lists",["ui.router","restangular","tips"]).config(["$stateProvider","$urlRouterProvider",t])}();
!function(){"use strict";function r(r,t){}angular.module("tips",["ui.router","restangular"]).config(["$stateProvider","$urlRouterProvider",r])}();
!function(){"use strict";function t(t){this.fsLoginUrl=t.getLoginUrl(),this.isLoggedIn=function(){return t.isLoggedIn()}}angular.module("auth").controller("AuthController",["authFactory",t])}();
!function(){"use strict";function t(t,e){function r(){var e=t.authenticateUrl,r=["client_id="+t.client_id,"response_type="+t.response_type,"redirect_uri="+t.redirect_uri].join("&");return e+"?"+r}function n(){return e.get(a)}function o(t){return e.set(a,t)}function u(){return Boolean(e.get(a))}var a="token";return{getLoginUrl:r,getToken:n,saveToken:o,isLoggedIn:u}}function e(t){return{request:function(e){return e.params=e.params||{},e.params.oauth_token=t.getToken(),e.params.v="20150801",e}}}angular.module("auth").factory("authInterceptor",["authFactory",e]).factory("authFactory",["FS_CONFIG","store",t])}();
!function(){angular.module("config").constant("FS_CONFIG",{client_id:"YMV0WS2FQOEO30MCSL3043EXUSFPPSNCCXKLY22QLSSV3I04",host:"https://api.foursquare.com/v2",authenticateUrl:"https://foursquare.com/oauth2/authenticate",response_type:"token",redirect_uri:" http://localhost:3000/auth/callback/"})}();
!function(){"use strict";function t(t,e){var n=this;this.get=function(){e.get().then(function(t){n.venue=t})["finally"](function(){t.$broadcast("scroll.refreshComplete")})},this.get(),this.getImageUrl=function(){var t=n.venue.photo.prefix,e=[828,628].join("x"),o=n.venue.photo.suffix;return[t,e,o].join("")}}angular.module("lists").controller("ListController",["$scope","listsFactory",t])}();

!function(){"use strict";function t(t){return t.withConfig(function(t){t.setResponseExtractor(function(t){return t.list.listItems.items})})}function n(t){return t.withConfig(function(t){t.setResponseExtractor(function(t){return t.lists.groups})})}function e(t,n,e){function s(){return h.getList().$object}function r(t){return t[Math.floor(Math.random()*t.length)]}function i(t){for(var n=t.length,e=0,s=[];n>e&&(s=r(t),!s.items.length);e++)t.slice(t.indexOf(s),1);return s}function o(t){var n=i(t),e=r(n.items);return c.one(e.id).get().then(r)}function u(n){return console.log("venue",n),t.get(n.id).then(function(t){return console.log("venue/tips",n,t),n.tips=t,n})}function a(){return h.getList().then(o).then(u)}var l="lists",c=n.all(l),f="users/self",g=f+"/"+l,h=e.all(g);return{getListsGroups:s,get:a}}angular.module("lists").factory("UserListsRestangular",["Restangular",n]).factory("ListsRestangular",["Restangular",t]).factory("listsFactory",["tipsFactory","ListsRestangular","UserListsRestangular",e])}();
!function(){"use strict";function t(t){var n={sort:"popular",limit:3};return t.withConfig(function(t){t.setResponseExtractor(function(t){return t.tips.items}).setDefaultRequestParams("get",n)})}function n(t){function n(n){return t.one("venues",n).one("tips")}t.all("venues");return{get:n}}angular.module("lists").factory("TipsRestangular",["Restangular",t]).factory("tipsFactory",["TipsRestangular",n])}();